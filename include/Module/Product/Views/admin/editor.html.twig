{% extends "@editor/base.html.twig" %}


{% block javascript %}
{{ parent() }}

<script>
    editor.endpoints = {
        add: "{{ '/api/product/add' | access_path }}",
        update: "{{ '/api/product/update' | access_path }}",
        delete: "{{ '/api/product/delete' | access_path }}"
    }
</script>

{% if product.id %}
<script>
    const product = {
        id: '{{ product.id }}',
        title: '{{ product.title }}',
        price: '{{ product.price }}',
        category: '{{ product.category }}',
        description: '{{ product.description }}',
        data: {
            components: JSON.parse('{{ product.data.components | json_encode | raw }}'),
            css: '{{ product.data.css | raw }}'
        },
        status: '{{ product.status }}',
        post_date: '{{ product.post_date }}',
        update_date: '{{ product.update_date }}',
        author_id: '{{ product.author_id }}',
        author_name: '{{ product.author_name }}'
    }
    window.__.product = product;

  
</script>
{% endif %}


<script src="{{ '@product/dist/editor.js' | assets }}"></script>

{% endblock %}
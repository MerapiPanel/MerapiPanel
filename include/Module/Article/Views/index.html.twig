{% extends "@panel/base.html.twig" %}


{% block header_title %}Article{% endblock %}


{% block stylesheet %}
{{ parent() }}
<link rel="stylesheet" href="{{ '@article/assets/dist/index.css' | assets }}">
{% endblock %}

{% block subheader_menu %}
<a href="{{ 'article/create' | access_path }}" class="menu-item">
    <i class="fa fa-plus"></i> new article
</a>
<a href="{{ 'article/options' | access_path }}" class="menu-item">
    <svg class="inline-block" viewBox="0 0 536.41 506.22" width="16" height="16" fill="currentColor"
        xmlns="http://www.w3.org/2000/svg">
        <path
            d="m192.41 0c-39.8 0-72 32.2-72 72v137.27c.10467-.00019.20779-.006.3125-.006 9.5714 0 18.945.79233 28.055 2.3106 6.0729.99014 10.693 5.7431 12.014 11.75l7.6191 34.801v-186.12c0-13.3 10.7-24 24-24h272c13.3 0 24 10.7 24 24v304c0 13.3-10.7 24-24 24h-212.66l23.105 21.023c4.5547 4.0926 6.3369 10.497 4.2246 16.24-1.3497 3.6503-2.8417 7.2221-4.4414 10.736h189.77c39.8 0 72-32.2 72-72v-304c0-39.8-32.2-72-72-72zm-144 56c-13.3 0-24 10.7-24 24v191.83l18.949 6.0234c8.8453-6.799 18.615-12.477 29.045-16.768l.0059-.0273v-181.05c0-13.3-10.7-24-24-24zm176 24c-13.3 0-24 10.7-24 24v80c0 13.3 10.7 24 24 24h96c13.3 0 24-10.7 24-24v-80c0-13.3-10.7-24-24-24zm176 0c-13.3 0-24 10.7-24 24s10.7 24 24 24h32c13.3 0 24-10.7 24-24s-10.7-24-24-24zm0 80c-13.3 0-24 10.7-24 24s10.7 24 24 24h32c13.3 0 24-10.7 24-24s-10.7-24-24-24zm-176 80c-13.3 0-24 10.7-24 24 0 4.3988 1.2568 8.4572 3.3047 11.994l31.139-9.8945c5.8088-1.8483 12.279-.1984 16.174 4.4883 4.5546 5.5104 8.7506 11.327 12.594 17.412h168.79c13.3 0 24-10.7 24-24s-10.7-24-24-24zm54.887 80c1.6953 5.541-.0845 11.561-4.4394 15.475l-28.584 26.008c.28479 2.1489.47487 4.3318.6543 6.5176h185.48c13.3 0 24-10.7 24-24s-10.7-24-24-24z" />
        <path
            d="m240.46 333.62c1.5973 4.3426.24958 9.1844-3.1946 12.279l-21.613 19.667c.54906 4.143.84856 8.3857.84856 12.678s-.2995 8.5355-.84856 12.678l21.613 19.667c3.4442 3.0947 4.7919 7.9365 3.1946 12.279-2.1963 5.9399-4.8418 11.63-7.8866 17.121l-2.346 4.0431c-3.2944 5.4907-6.9881 10.682-11.031 15.574-2.945 3.5939-7.8367 4.7918-12.229 3.3942l-27.803-8.835c-6.6886 5.1413-14.076 9.434-21.963 12.678l-6.2394 28.502c-.9983 4.5423-4.4924 8.1362-9.0846 8.8849-6.8883 1.148-13.976 1.747-21.214 1.747-7.2377 0-14.326-.59899-21.214-1.747-4.5922-.74873-8.0862-4.3426-9.0846-8.8849l-6.2394-28.502c-7.8866-3.2445-15.274-7.5372-21.963-12.678l-27.753 8.8849c-4.3925 1.3976-9.2842.14974-12.229-3.3942-4.0431-4.8917-7.7368-10.083-11.031-15.574l-2.346-4.0431c-3.0448-5.4906-5.6903-11.181-7.8866-17.121-1.5973-4.3426-.24957-9.1844 3.1946-12.279l21.613-19.667c-.54906-4.1929-.84856-8.4357-.84856-12.728s.29949-8.5355.84856-12.678l-21.613-19.667c-3.4441-3.0947-4.7918-7.9365-3.1946-12.279 2.1963-5.9399 4.8418-11.63 7.8866-17.121l2.346-4.0431c3.2944-5.4906 6.9881-10.682 11.031-15.574 2.945-3.5939 7.8367-4.7919 12.229-3.3942l27.803 8.835c6.6886-5.1412 14.076-9.434 21.963-12.678l6.2394-28.502c.99829-4.5423 4.4924-8.1362 9.0846-8.8849 6.8883-1.198 13.976-1.797 21.214-1.797s14.326.599 21.214 1.747c4.5922.74872 8.0863 4.3426 9.0846 8.8849l6.2394 28.502c7.8866 3.2445 15.274 7.5372 21.963 12.678l27.803-8.835c4.3925-1.3976 9.2842-.14975 12.229 3.3942 4.0431 4.8917 7.7369 10.083 11.031 15.574l2.346 4.0431c3.0448 5.4907 5.6903 11.181 7.8866 17.121zm-119.75 84.556a39.932 39.932 0 100-79.864 39.932 39.932 0 100 79.864z" />
    </svg> options
</a>
{% endblock %}

{% block breadcrumb_item %}
<li class="breadcrumb-item"><a href="{{ '/' | access_path }}">Home</a></li>
<li class="breadcrumb-item">Article</li>
{% endblock %}


{% block content %}

<div class="container-article gap-3">
    <div class="d-flex flex-wrap gap-3 flex-grow-1 w-100 p-3 " id="article-wrapper" onload="render(this)">

        <div class="card border-0 shadow-sm" aria-hidden="true" style='width: 100%; max-width: 30rem;'>
            <div class="card-body">
                <h5 class="card-title placeholder-glow">
                    <span class="placeholder col-6"></span>
                </h5>
                <p class="card-text placeholder-glow">
                    <span class="placeholder col-7"></span>
                    <span class="placeholder col-4"></span>
                    <span class="placeholder col-4"></span>
                    <span class="placeholder col-6"></span>
                    <span class="placeholder col-8"></span>
                </p>
                <a href="#" tabindex="-1" class="btn btn-primary disabled placeholder col-6"></a>
            </div>
        </div>

        <div class="card border-0 shadow-sm" aria-hidden="true" style='width: 100%; max-width: 30rem;'>
            <div class="card-body">
                <h5 class="card-title placeholder-glow">
                    <span class="placeholder col-6"></span>
                </h5>
                <p class="card-text placeholder-glow">
                    <span class="placeholder col-7"></span>
                    <span class="placeholder col-4"></span>
                    <span class="placeholder col-4"></span>
                    <span class="placeholder col-6"></span>
                    <span class="placeholder col-8"></span>
                </p>
                <a href="#" tabindex="-1" class="btn btn-primary disabled placeholder col-6"></a>
            </div>
        </div>

    </div>

    <div class="category-wrapper">
        <div class="navbar-expand-lg p-0">
            <h3 class="d-flex align-items-center text-bs ps-3 py-0 pt-1 mb-1">
                <a class="text-decoration-none text-dark text-hover-primary light-5"><span class="font-semibold">Categorys</span> </a>
       
                <button class="btn text-dark text-hover-primary light-5 navbar-toggler" data-bs-toggle="collapse"
                    data-bs-target="#categories-collapse">
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
            </h3>

            <div class="collapse navbar-collapse" id="categories-collapse">
                
            </div>
        </div>
    </div>
</div>
<div class="inline-flex max-w-[175px]"></div>

<div class="modal hide">
    <div class="modal-dialog">
        <div class="modal-header border-b-[1px] border-gray-100/80">
            <h3 class="modal-title">Edit Attribute of Article</h3>
            <button class="btn btn-close"></button>
        </div>
        <form method="xhr::post" id="form-quick-edit" action="{{ '/article/endpoint/update' | access_path }}"
            class="modal-content">
            <div class="mb-3">
                <label>
                    <span class="block text-sm font-medium text-gray-700 mb-2">Article ID :</span>
                    <input type="text" class="form-input" id="article-id" name="id" readonly>
                </label>
            </div>
            <div class="mb-3">
                <label>
                    <span class="block text-sm font-medium text-gray-700 mb-2">Title of article :</span>
                    <input id="article-title" name="title" type="text" class="form-input" min="5"
                        placeholder="Enter title" invalid-message="this field is required" required>
                </label>
            </div>

            <div class="mb-3">
                <label>
                    <span class="block text-sm font-medium text-gray-700 mb-2">Slug :</span>
                    <input id="article-slug" name="slug" type="text" class="form-input" placeholder="Enter slug">
                </label>
            </div>

            <div class="mb-3">
                <label>
                    <span class="block text-sm font-medium text-gray-700 mb-2">Category of
                        article :</span>
                    <select id="article-category" name="category" class="form-select">
                        {% for category in categories %}
                        <option value="{{ category.id }}">{{ category.name }}</option>
                        {% endfor %}
                    </select>
                </label>
            </div>

            <div class="mb-3">
                <label>
                    <input
                        onchange="if (this.checked) { $('#article-description').parent().show(); } else { $('#article-description').parent().hide(); }"
                        type="checkbox" class="form-input switch mr-3" id="is-custom-description" value="1"> Custom
                    description</label>
                <label style="display: none;">
                    <span class="block text-sm font-medium text-gray-700 mb-2">Description :</span>
                    <textarea id="article-description" name="description" class="form-textarea"
                        placeholder="Enter description" invalid-message="this field is required, minimum 150 characters"
                        min="150" required></textarea>
                </label>
            </div>

            <div class="mb-3">
                <label>
                    <input type="checkbox" class="form-input switch mr-3" id="is-publish" name="is-publish" value="1"
                        checked> Publish</label>
            </div>
        </form>
        <div class="modal-footer"></div>
    </div>
</div>

{% endblock %}




{% block javascript %}

{{ parent() }}

<script>
    window.articles = JSON.parse('{{ articles|json_encode|raw }}');
    window.updateEndpoint = "{{ '/article/endpoint/update' | access_path }}";
    window.deleteEndpoint = "{{ '/article/endpoint/delete' | access_path }}";
    window.editURL = "{{ '/article/edit' | access_path }}";
    window.viewEndpoint = "{{ '/article/view' | access_path }}";
</script>

<script src="{{ '@article/dist/index.js' | assets }}"></script>

{% endblock %}
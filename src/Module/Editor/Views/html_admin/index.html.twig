{% extends "@admin>panel/base.html.twig" %}

{% block head_javascripts %}
<script src="{{ '@editor/assets/dist/index.bundle.js' | assets }}"></script>
{% endblock %}


{% block stylesheets %}
<style>
    .gjs-pn-active {
        color: rgb(59 130 246);
    }

    .small-modal .gjs-mdl-dialog {
        max-width: 500px;
    }

    .gjs-one-bg {
        background-color: #384246;
    }
</style>
{% endblock %}


{% block body %}

<body>
    <div>
        <div id="gjs"></div>
    </div>


    {% block javascripts %}
    {{ parent() }}
    <script>
        $(() => {
            MERAPI.Editor.init({
                id: null,
                endpoint: {
                    load: "{{ ('template/view') | admin_url }}",
                    save: "{{ ('template/save') | admin_url }}"
                },
                assets: {
                    url: "{{ admin.FileManager_fetchJsonEndpoint }}",
                    name: "files",
                    upload: "{{ admin.FileManager_uploadEndpoint }}",
                }
            });
        })
    </script>

    {% endblock %}

</body>

{% endblock %}